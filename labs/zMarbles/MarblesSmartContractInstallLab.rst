





<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
  <link rel="dns-prefetch" href="https://assets-cdn.github.com">
  <link rel="dns-prefetch" href="https://avatars0.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars1.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars2.githubusercontent.com">
  <link rel="dns-prefetch" href="https://avatars3.githubusercontent.com">
  <link rel="dns-prefetch" href="https://github-cloud.s3.amazonaws.com">
  <link rel="dns-prefetch" href="https://user-images.githubusercontent.com/">



  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-d7137690e30123bade38abb082ac79f36cc7a105ff92e602405f53b725465cab.css" media="all" rel="stylesheet" />
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-3802ba05bbc2b945940b138b79ae8a55487741ed14fc337567348d097321cc96.css" media="all" rel="stylesheet" />
  
  
  <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/site-cd79f063f6da2fef8de0055aa11c913cc1873486fc05ade3227e0cbcc7a168c6.css" media="all" rel="stylesheet" />
  

  <meta name="viewport" content="width=device-width">
  
  <title>BlockchainWorkshop/MarblesSmartContractInstallLab.rst at master · SweetJenn23/BlockchainWorkshop · GitHub</title>
  <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
  <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
  <meta property="fb:app_id" content="1401488693436528">

    
    <meta content="https://avatars1.githubusercontent.com/u/14825742?s=400&amp;v=4" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="SweetJenn23/BlockchainWorkshop" property="og:title" /><meta content="https://github.com/SweetJenn23/BlockchainWorkshop" property="og:url" /><meta content="Contribute to BlockchainWorkshop development by creating an account on GitHub." property="og:description" />

  <link rel="assets" href="https://assets-cdn.github.com/">
  
  <meta name="pjax-timeout" content="1000">
  
  <meta name="request-id" content="AB6C:73AE:100D8E1:1D8E4A7:5A01DC52" data-pjax-transient>
  

  <meta name="selected-link" value="repo_source" data-pjax-transient>

  <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="https://collector.githubapp.com/github-external/browser_event" name="octolytics-event-url" /><meta content="AB6C:73AE:100D8E1:1D8E4A7:5A01DC52" name="octolytics-dimension-request_id" /><meta content="iad" name="octolytics-dimension-region_edge" /><meta content="iad" name="octolytics-dimension-region_render" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />




  <meta class="js-ga-set" name="dimension1" content="Logged Out">


  

      <meta name="hostname" content="github.com">
  <meta name="user-login" content="">

      <meta name="expected-hostname" content="github.com">
    <meta name="js-proxy-site-detection-payload" content="YzE3ZDM0ZDUxODY4OTMyYzU1YTFkMmE4NWViMGE0ZjM1MWU2OGY5NmM2MzY2MmNjNzBlMTM3MzljOTUxZjdiYnx7InJlbW90ZV9hZGRyZXNzIjoiMTk1LjIxMi4yOS4xNzciLCJyZXF1ZXN0X2lkIjoiQUI2Qzo3M0FFOjEwMEQ4RTE6MUQ4RTRBNzo1QTAxREM1MiIsInRpbWVzdGFtcCI6MTUxMDA3MTM3OCwiaG9zdCI6ImdpdGh1Yi5jb20ifQ==">


  <meta name="html-safe-nonce" content="9760175a05ded930ff59050b8433d0efb17a2833">

  <meta http-equiv="x-pjax-version" content="e0825b21a7eb704e592a4c4ee9297188">
  

      <link href="https://github.com/SweetJenn23/BlockchainWorkshop/commits/master.atom" rel="alternate" title="Recent Commits to BlockchainWorkshop:master" type="application/atom+xml">

  <meta name="description" content="Contribute to BlockchainWorkshop development by creating an account on GitHub.">
  <meta name="go-import" content="github.com/SweetJenn23/BlockchainWorkshop git https://github.com/SweetJenn23/BlockchainWorkshop.git">

  <meta content="14825742" name="octolytics-dimension-user_id" /><meta content="SweetJenn23" name="octolytics-dimension-user_login" /><meta content="104955975" name="octolytics-dimension-repository_id" /><meta content="SweetJenn23/BlockchainWorkshop" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="104955975" name="octolytics-dimension-repository_network_root_id" /><meta content="SweetJenn23/BlockchainWorkshop" name="octolytics-dimension-repository_network_root_nwo" /><meta content="false" name="octolytics-dimension-repository_explore_github_marketplace_ci_cta_shown" />


    <link rel="canonical" href="https://github.com/SweetJenn23/BlockchainWorkshop/blob/master/MarblesSmartContractInstallLab.rst" data-pjax-transient>


  <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">

  <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">

  <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#000000">
  <link rel="icon" type="image/x-icon" class="js-site-favicon" href="https://assets-cdn.github.com/favicon.ico">

<meta name="theme-color" content="#1e2327">



  </head>

  <body class="logged-out env-production page-blob">
    

  <div class="position-relative js-header-wrapper ">
    <a href="#start-of-content" tabindex="1" class="px-2 py-4 show-on-focus js-skip-to-content">Skip to content</a>
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"><div class="progress"></div></div>

    
    
    



        <header class="Header header-logged-out  position-relative f4 py-3" role="banner">
  <div class="container-lg d-flex px-3">
    <div class="d-flex flex-justify-between flex-items-center">
      <a class="header-logo-invertocat my-0" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
        <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" version="1.1" viewBox="0 0 16 16" width="32"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
      </a>

    </div>

    <div class="HeaderMenu HeaderMenu--bright d-flex flex-justify-between flex-auto">
        <nav class="mt-0">
          <ul class="d-flex list-style-none">
              <li class="ml-2">
                <a href="/features" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:features" data-selected-links="/features /features/project-management /features/code-review /features/project-management /features/integrations /features">
                  Features
</a>              </li>
              <li class="ml-4">
                <a href="/business" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:business" data-selected-links="/business /business/security /business/customers /business">
                  Business
</a>              </li>

              <li class="ml-4">
                <a href="/explore" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship showcases showcases_search showcases_landing /explore">
                  Explore
</a>              </li>

              <li class="ml-4">
                    <a href="/marketplace" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:marketplace" data-selected-links=" /marketplace">
                      Marketplace
</a>              </li>
              <li class="ml-4">
                <a href="/pricing" class="js-selected-navigation-item HeaderNavlink px-0 py-2 m-0" data-ga-click="Header, click, Nav menu - item:pricing" data-selected-links="/pricing /pricing/developer /pricing/team /pricing/business-hosted /pricing/business-enterprise /pricing">
                  Pricing
</a>              </li>
          </ul>
        </nav>

      <div class="d-flex">
          <div class="d-lg-flex flex-items-center mr-3">
            <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="/SweetJenn23/BlockchainWorkshop/search" class="js-site-search-form" data-scoped-search-url="/SweetJenn23/BlockchainWorkshop/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
        <a href="/SweetJenn23/BlockchainWorkshop/blob/master/MarblesSmartContractInstallLab.rst" class="header-search-scope no-underline">This repository</a>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        value=""
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        autocapitalize="off">
        <input type="hidden" class="js-site-search-type-field" name="type" >
    </label>
</form></div>

          </div>

        <span class="d-inline-block">
            <div class="HeaderNavlink px-0 py-2 m-0">
              <a class="text-bold text-white no-underline" href="/login?return_to=%2FSweetJenn23%2FBlockchainWorkshop%2Fblob%2Fmaster%2FMarblesSmartContractInstallLab.rst" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
                <span class="text-gray">or</span>
                <a class="text-bold text-white no-underline" href="/join?source=header-repo" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
            </div>
        </span>
      </div>
    </div>
  </div>
</header>


  </div>

  <div id="start-of-content" class="show-on-focus"></div>

    <div id="js-flash-container">
</div>



  <div role="main">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container>
      





    <div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav ">
      <div class="repohead-details-container clearfix container ">

        <ul class="pagehead-actions">
  <li>
      <a href="/login?return_to=%2FSweetJenn23%2FBlockchainWorkshop"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-eye" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"/></svg>
    Watch
  </a>
  <a class="social-count" href="/SweetJenn23/BlockchainWorkshop/watchers"
     aria-label="2 users are watching this repository">
    2
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2FSweetJenn23%2FBlockchainWorkshop"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-star" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M14 6l-4.9-.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14 7 11.67 11.33 14l-.93-4.74z"/></svg>
    Star
  </a>

    <a class="social-count js-social-count" href="/SweetJenn23/BlockchainWorkshop/stargazers"
      aria-label="0 users starred this repository">
      0
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2FSweetJenn23%2FBlockchainWorkshop"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" version="1.1" viewBox="0 0 10 16" width="10"><path fill-rule="evenodd" d="M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
        Fork
      </a>

    <a href="/SweetJenn23/BlockchainWorkshop/network" class="social-count"
       aria-label="1 user forked this repository">
      1
    </a>
  </li>
</ul>

        <h1 class="public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M4 9H3V8h1v1zm0-3H3v1h1V6zm0-2H3v1h1V4zm0-2H3v1h1V2zm8-1v12c0 .55-.45 1-1 1H6v2l-1.5-1.5L3 16v-2H1c-.55 0-1-.45-1-1V1c0-.55.45-1 1-1h10c.55 0 1 .45 1 1zm-1 10H1v2h2v-1h3v1h5v-2zm0-10H2v9h9V1z"/></svg>
  <span class="author" itemprop="author"><a href="/SweetJenn23" class="url fn" rel="author">SweetJenn23</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/SweetJenn23/BlockchainWorkshop" data-pjax="#js-repo-pjax-container">BlockchainWorkshop</a></strong>

</h1>

      </div>
      
<nav class="reponav js-repo-nav js-sidenav-container-pjax container"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/SweetJenn23/BlockchainWorkshop" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches repo_packages /SweetJenn23/BlockchainWorkshop" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"/></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/SweetJenn23/BlockchainWorkshop/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /SweetJenn23/BlockchainWorkshop/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"/></svg>
        <span itemprop="name">Issues</span>
        <span class="Counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/SweetJenn23/BlockchainWorkshop/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /SweetJenn23/BlockchainWorkshop/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"/></svg>
      <span itemprop="name">Pull requests</span>
      <span class="Counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>

    <a href="/SweetJenn23/BlockchainWorkshop/projects" class="js-selected-navigation-item reponav-item" data-hotkey="g b" data-selected-links="repo_projects new_repo_project repo_project /SweetJenn23/BlockchainWorkshop/projects">
      <svg aria-hidden="true" class="octicon octicon-project" height="16" version="1.1" viewBox="0 0 15 16" width="15"><path fill-rule="evenodd" d="M10 12h3V2h-3v10zm-4-2h3V2H6v8zm-4 4h3V2H2v12zm-1 1h13V1H1v14zM14 0H1a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h13a1 1 0 0 0 1-1V1a1 1 0 0 0-1-1z"/></svg>
      Projects
      <span class="Counter" >0</span>
</a>


  <a href="/SweetJenn23/BlockchainWorkshop/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors dependency_graph pulse /SweetJenn23/BlockchainWorkshop/pulse">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M16 14v1H0V0h1v14h15zM5 13H3V8h2v5zm4 0H7V3h2v10zm4 0h-2V6h2v7z"/></svg>
    Insights
</a>

</nav>


    </div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    
  <a href="/SweetJenn23/BlockchainWorkshop/blob/d73938eb35039aab106912d5ee95f8e1b6e0fc37/MarblesSmartContractInstallLab.rst" class="d-none js-permalink-shortcut" data-hotkey="y">Permalink</a>

  <!-- blob contrib key: blob_contributors:v21:d38208433fe5ba740402200e962764d6 -->

  <div class="file-navigation js-zeroclipboard-container">
    
<div class="select-menu branch-select-menu js-menu-container js-select-menu float-left">
  <button class=" btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    
    type="button" aria-label="Switch branches or tags" aria-expanded="false" aria-haspopup="true">
      <i>Branch:</i>
      <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax>

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <svg aria-label="Close" class="octicon octicon-x js-menu-close" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="form-control js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/SweetJenn23/BlockchainWorkshop/blob/master/MarblesSmartContractInstallLab.rst"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <svg aria-hidden="true" class="octicon octicon-check select-menu-item-icon" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M12 5l-8 8-4-4 1.5-1.5L4 10l6.5-6.5z"/></svg>
              <span class="select-menu-item-text css-truncate-target js-select-menu-filter-text">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

    <div class="BtnGroup float-right">
      <a href="/SweetJenn23/BlockchainWorkshop/find/master"
            class="js-pjax-capture-input btn btn-sm BtnGroup-item"
            data-pjax
            data-hotkey="t">
        Find file
      </a>
      <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm BtnGroup-item tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
    </div>
    <div class="breadcrumb js-zeroclipboard-target">
      <span class="repo-root js-repo-root"><span class="js-path-segment"><a href="/SweetJenn23/BlockchainWorkshop"><span>BlockchainWorkshop</span></a></span></span><span class="separator">/</span><strong class="final-path">MarblesSmartContractInstallLab.rst</strong>
    </div>
  </div>


  
  <div class="commit-tease">
      <span class="float-right">
        <a class="commit-tease-sha" href="/SweetJenn23/BlockchainWorkshop/commit/567fd02dddf619cb8e8077a7619d07d82794f281" data-pjax>
          567fd02
        </a>
        <relative-time datetime="2017-10-02T12:45:22Z">Oct 2, 2017</relative-time>
      </span>
      <div>
        <img alt="@silliman" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/8659404?s=40&amp;v=4" width="20" />
        <a href="/silliman" class="user-mention" rel="contributor">silliman</a>
          <a href="/SweetJenn23/BlockchainWorkshop/commit/567fd02dddf619cb8e8077a7619d07d82794f281" class="message" data-pjax="true" title="improve process to get zmarbles compressed tarball

As a usability improvement, instead of just hinting in the README of the repo where to get the compressed tarball the wget command to get it is now embedded in the lab">improve process to get zmarbles compressed tarball</a>
      </div>

    <div class="commit-tease-contributors">
      <button type="button" class="btn-link muted-link contributors-toggle" data-facebox="#blob_contributors_box">
        <strong>2</strong>
         contributors
      </button>
          <a class="avatar-link tooltipped tooltipped-s" aria-label="silliman" href="/SweetJenn23/BlockchainWorkshop/commits/master/MarblesSmartContractInstallLab.rst?author=silliman"><img alt="@silliman" class="avatar" height="20" src="https://avatars1.githubusercontent.com/u/8659404?s=40&amp;v=4" width="20" /> </a>
    <a class="avatar-link tooltipped tooltipped-s" aria-label="SweetJenn23" href="/SweetJenn23/BlockchainWorkshop/commits/master/MarblesSmartContractInstallLab.rst?author=SweetJenn23"><img alt="@SweetJenn23" class="avatar" height="20" src="https://avatars0.githubusercontent.com/u/14825742?s=40&amp;v=4" width="20" /> </a>


    </div>

    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header" data-facebox-id="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list" data-facebox-id="facebox-description">
          <li class="facebox-user-list-item">
            <img alt="@silliman" height="24" src="https://avatars0.githubusercontent.com/u/8659404?s=48&amp;v=4" width="24" />
            <a href="/silliman">silliman</a>
          </li>
          <li class="facebox-user-list-item">
            <img alt="@SweetJenn23" height="24" src="https://avatars1.githubusercontent.com/u/14825742?s=48&amp;v=4" width="24" />
            <a href="/SweetJenn23">SweetJenn23</a>
          </li>
      </ul>
    </div>
  </div>


  <div class="file">
    <div class="file-header">
  <div class="file-actions">

    <div class="BtnGroup">
      <a href="/SweetJenn23/BlockchainWorkshop/raw/master/MarblesSmartContractInstallLab.rst" class="btn btn-sm BtnGroup-item" id="raw-url">Raw</a>
        <a href="/SweetJenn23/BlockchainWorkshop/blame/master/MarblesSmartContractInstallLab.rst" class="btn btn-sm js-update-url-with-hash BtnGroup-item" data-hotkey="b">Blame</a>
      <a href="/SweetJenn23/BlockchainWorkshop/commits/master/MarblesSmartContractInstallLab.rst" class="btn btn-sm BtnGroup-item" rel="nofollow">History</a>
    </div>


        <button type="button" class="btn-octicon disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg aria-hidden="true" class="octicon octicon-pencil" height="16" version="1.1" viewBox="0 0 14 16" width="14"><path fill-rule="evenodd" d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"/></svg>
        </button>
        <button type="button" class="btn-octicon btn-octicon-danger disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <svg aria-hidden="true" class="octicon octicon-trashcan" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M11 2H9c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1H2c-.55 0-1 .45-1 1v1c0 .55.45 1 1 1v9c0 .55.45 1 1 1h7c.55 0 1-.45 1-1V5c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1zm-1 12H3V5h1v8h1V5h1v8h1V5h1v8h1V5h1v9zm1-10H2V3h9v1z"/></svg>
        </button>
  </div>

  <div class="file-info">
      1052 lines (810 sloc)
      <span class="file-info-divider"></span>
    83.6 KB
  </div>
</div>

    
  <div id="readme" class="readme blob instapaper_body">
    <article class="markdown-body entry-content" itemprop="text"><a name="user-content-section-1-overview-of-hyperledger-fabric-smart-contract-installation-lab"></a>
<h2><a href="#section-1---overview-of-hyperledger-fabric-smart-contract-installation-lab" aria-hidden="true" class="anchor" id="user-content-section-1---overview-of-hyperledger-fabric-smart-contract-installation-lab"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 1 - Overview of Hyperledger Fabric Smart Contract installation lab</h2>
<p>In this lab, you will use the Hyperledger Fabric instance that you installed and tested in the previous lab, “Hyperledger Fabric
installation and verification on IBM Z”.</p>
<p>You will use Docker Compose to bring up a Fabric network in which two organizations will participate.  There will be one orderer
service for the network, and each organization will use its own certificate authority service and have two peer nodes.  Each peer node
will use CouchDB for its ledger store. Each of these entities will run in a separate Docker container.  That makes eleven Docker
containers, as follows:</p>
<ul>
<li>1 orderer service Docker container</li>
<li>2 certificate authority (CA) Docker containers (one for each organization)</li>
<li>4 peer node Docker containers  (each of the two organizations has two peers)</li>
<li>4 CouchDB Docker containers (each Peer node has its own separate CouchDB ledger store)</li>
</ul>
<p>You will also bring up a twelfth Docker container that we will call the <em>CLI</em> container.  You will use it as a convenience to enter
Hyperledger Fabric commands targeted to specific peers.  You will see how this is done later in the lab.</p>
<p>The network you bring up will use Transport Layer Security (TLS) which provides secure, encrypted communication between the peer nodes
and the orderer, just as most real-world implementations will require.</p>
<p>You will <strong>install</strong> a Smart Contract on the peer nodes, <strong>instantiate</strong> the Smart Contract, and <strong>invoke</strong> functions of the Smart
Contract.  I will explain later in the lab the difference between the install and instantiate actions and what each one does.</p>
<p>When you invoke functions of the Smart Contract, some of them will produce transactions on the blockchain and some of them will not.
<em>Spoiler alert</em>:  Functions that create, update or delete ledger data always produce a transaction, while functions that only query ledger data do not.</p>
<a name="user-content-section-2-description-of-the-subsequent-sections-in-this-lab"></a>
<h2><a href="#section-2---------description-of-the-subsequent-sections-in-this-lab" aria-hidden="true" class="anchor" id="user-content-section-2---------description-of-the-subsequent-sections-in-this-lab"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 2       - Description of the subsequent sections in this lab</h2>
<p>This section provides a brief description of the subsequent sections in the lab, where you will get hands-on experience with the Hyperledger Fabric command line interface.</p>
<ol>
<li>You will extract the artifacts necessary to run the lab in Section 3.  All the artifacts necessary for the lab are provided in a zip file.</li>
<li>You will use Docker Compose to bring up the twelve Docker containers that comprise the Hyperledger Fabric network in Section 4.  You will see that all twelve Docker containers that we mentioned in Section 1 are brought up with a single docker-compose command, and I will explain some of the more interesting bits of what is going on under the covers.</li>
<li>You will create a channel in the Hyperledger Fabric network in Section 5.  In Hyperledger Fabric v1.0, each channel is essentially its own blockchain.</li>
<li>You will instruct each peer node to join the channel in Section 6.  We will join all four Peer nodes to the channel.  Peer nodes can be members of more than one channel, but for our lab we are only creating one channel.</li>
<li>You will define an “anchor” peer for each organization in the channel in Section 7.  An anchor peer for an organization is a peer that is known by all the other organizations in a channel.  Not all peers for an organization need to be known by outside organizations.  Peers not defined as anchor peers are visible only within their own organization.</li>
<li>You will install the Smart Contract, or chaincode, on the peer nodes in Section 8. Installing chaincode simply puts the chaincode executable on the file system of the peer.  It is a necessary step before you execute that chaincode on the peer, but the next step is also required.</li>
<li>You will instantiate the chaincode on the channel in Section 9.  This step is a prerequisite to being able to run chaincode on a channel.  It only needs to be performed on one peer that is a member of the channel.  This causes a transaction to be recorded on the channel’s blockchain to indicate that the chaincode can be run on the channel.</li>
<li>You will invoke functions on the chaincode that will create, read, update and delete (CRUD) data stored on the blockchain in Section 10. If you hear programmers use the word CRUD, unless they are talking about last night’s hockey game, they are probably talking about Creating, Reading, Updating, or Deleting data.   Blocks of transactions in a blockchain are always added (i.e., Created), and they can be Read, but they should never, ever, ever, in normal operations, be Updated or Deleted.   However, although the blocks in a chain are not updated or deleted, the transactions themselves operate on Key/Value pairs that can have all CRUD operations performed on them.  This collection of Key/Value pairs is often referred to as state data.</li>
</ol>
<a name="user-content-section-3-extract-the-artifacts-necessary-to-run-the-lab"></a>
<h2><a href="#section-3-------extract-the-artifacts-necessary-to-run-the-lab" aria-hidden="true" class="anchor" id="user-content-section-3-------extract-the-artifacts-necessary-to-run-the-lab"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 3 -     Extract the artifacts necessary to run the lab</h2>
<p><strong>Step 1:</strong>     Navigate to the home directory by entering <em>cd ~</em> (the “tilde” character, i.e., ‘<em>~</em>’, represents the user’s home directory in Linux).
This directory is also usually set in the $HOME environment variable, so <em>cd $HOME</em> will also usually get you to your home directory.
E.g., observe the following commands which illustrate this:</p>
<pre>bcuser@ubuntu-bc:~$ cd /usr/lib
bcuser@ubuntu-bc:/usr/lib$ # starting in some random dir
bcuser@ubuntu-bc:/usr/lib$ # bash interprets '#' as starting a comment
bcuser@ubuntu-bc:/usr/lib$ pwd # prints the current directory you are in
/usr/lib
bcuser@ubuntu-bc:/usr/lib$ cd ~ # will take you to your home directory
bcuser@ubuntu-bc:~$ pwd
/home/bcuser
bcuser@ubuntu-bc:~$ cd - # takes you back to the previous directory
/usr/lib
bcuser@ubuntu-bc:/usr/lib$ echo $HOME # print your HOME environment variable
/home/bcuser
bcuser@ubuntu-bc:/usr/lib$ cd $HOME # will be the same as cd ~
bcuser@ubuntu-bc:~$ pwd
/home/bcuser
bcuser@ubuntu-bc:~$
</pre>
<p><strong>Step 2:</strong> Retrieve the zmarbles compressed tarball prepared for this lab with the following command:</p>
<pre>bcuser@ubuntu16042:~$ wget https://raw.githubusercontent.com/silliman/fabric-lab-IBM-Z/master/zmarbles.tar.gz
--2017-10-02 08:40:14--  https://raw.githubusercontent.com/silliman/fabric-lab-IBM-Z/master/zmarbles.tar.gz
Resolving raw.githubusercontent.com (raw.githubusercontent.com)... 151.101.200.133
Connecting to raw.githubusercontent.com (raw.githubusercontent.com)|151.101.200.133|:443... connected.
HTTP request sent, awaiting response... 200 OK
Length: 1532078 (1.5M) [application/octet-stream]
Saving to: 'zmarbles.tar.gz'

zmarbles.tar.gz                      100%[=====================================================================&gt;]   1.46M  --.-KB/s     in 0.1s

2017-10-02 08:40:15 (14.0 MB/s) - 'zmarbles.tar.gz' saved [1532078/1532078]
</pre>
<p><strong>Step 3:</strong>     List the <em>zmarbles</em> directory with this <em>ls</em> command:</p>
<pre>bcuser@ubuntu-bc:~$ ls zmarbles
ls: cannot access 'zmarbles': No such file or directory
</pre>
<p>Don’t panic!  It wasn’t supposed to be there.  It will be after the next step.</p>
<p><strong>Step 4:</strong>     Extract the <em>zmarbles.tar.gz</em> file which will create the missing directory (and lots of subdirectories).
If you are not giddy yet, try tucking the “<em>v</em>” switch into the options in the command below.  That is, use <em>-xzvf</em> instead of <em>-xzf</em>.
So, enter the commands highlighted below as shown, or by substituting <em>-xzvf</em> for <em>-xzf</em> in the tar command (the “<em>v</em>” is for “<em>verbose</em>”)</p>
<pre>bcuser@ubuntu16042:~$ tar -xzf zmarbles.tar.gz
bcuser@ubuntu16042:~$ ls zmarbles
base               configtx.yaml       docker-compose-template.yaml  generateArtifacts.sh  network_setup.sh
channel-artifacts  crypto-config.yaml  examples                      marblesUI             scripts
bcuser@ubuntu16042:~$
</pre>
<p>Congratulations!  You are now ready to get to the hard part of the lab!  Proceed to the next section please.</p>
<a name="user-content-section-4-bring-up-the-twelve-docker-containers-that-comprise-the-hyperledger-fabric-network"></a>
<h2><a href="#section-4---------bring-up-the-twelve-docker-containers-that-comprise-the-hyperledger-fabric-network" aria-hidden="true" class="anchor" id="user-content-section-4---------bring-up-the-twelve-docker-containers-that-comprise-the-hyperledger-fabric-network"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 4       - Bring up the twelve Docker containers that comprise the Hyperledger Fabric network</h2>
<p><strong>Step 1:</strong>     Change to the <em>zmarbles</em> directory with the <em>cd</em> command and then list its contents with the <em>ls</em> command:</p>
<pre>bcuser@ubuntu16042:~$ cd zmarbles/
bcuser@ubuntu16042:~/zmarbles$ ls -l
total 48
drwxr-xr-x  2 bcuser bcuser 4096 Jul 12 21:10 base
drwxr-xr-x  2 bcuser bcuser 4096 Jul 13 11:28 channel-artifacts
-rw-r--r--  1 bcuser bcuser 5017 Jun 18 12:38 configtx.yaml
-rw-r--r--  1 bcuser bcuser 3861 Jun 18 12:40 crypto-config.yaml
-rw-rw-r--  1 bcuser bcuser 5996 Jul 13 11:23 docker-compose-template.yaml
drwxr-xr-x  3 bcuser bcuser 4096 Jun 18 12:32 examples
-rwxr-xr-x  1 bcuser bcuser 3611 Jun 18 16:49 generateArtifacts.sh
drwxr-xr-x 12 bcuser bcuser 4096 Jul 13 11:32 marblesUI
-rwxr-xr-x  1 bcuser bcuser 2504 Jun 18 12:54 network_setup.sh
drwxr-xr-x  2 bcuser bcuser 4096 Jul 12 19:05 scripts bcuser@ubuntu16042:~/zmarbles$
</pre>
<p><strong>Step 2:</strong>     You are going to run a script named <em>generateArtifacts.sh</em> that will create some configuration information that is
necessary to get your Hyperledger Fabric network set up.  There is one optional parameter you may pass to the script, and that is the
name of the channel you will be creating.  If you do not specify this parameter, the channel name defaults to <em>mychannel</em>. You may
choose to specify your own channel name.  If you do so, then in the remainder of this lab, anytime you see <em>mychannel</em> within the
command, you will need to substitute the name you have chosen to use here.  E.g., if you wish to name your channel <em>Tim</em>, then you will
enter <em>./generateArtifacts.sh Tim</em> instead of just <em>./generateArtifacts.sh</em> as shown in the below snippet.</p>
<p>Here is my advice on that-  if you are reading this on a “softcopy” medium where you have the ability to cut and paste, just use the
default channel name so you can cut and paste subsequent commands in one fell swoop.  If you have a printed copy of the lab, you will
have to type the commands in anyway, so maybe it is okay to give it your own special name.</p>
<p>So, enter just <em>one</em> of these two commands (the first one is recommended):</p>
<pre>./generateArtifacts.sh    # will use the default channel name of mychannel
./generateArtifacts.sh yourFancyChannelName   # please pick a shorter name for your own sake!
</pre>
<p>By the way, if you enter a command and end it with #, everything after the # is considered a comment and is ignored by the shell.
So, if you see me place comments after any commands you do not have to enter them but if you do, it will not hurt anything.</p>
<p>Here is output from entering the first command,  which does not specify the channel name and thus accepts the default name of <em>mychannel</em>:</p>
<pre>bcuser@ubuntu-bc:~/zmarbles$ ./generateArtifacts.sh  # not all output is shown below
mychannel

Using cryptogen -&gt; /home/bcuser/git/src/github.com/hyperledger/fabric/release/linux-s390x/bin/cryptogen

##########################################################
##### Generate certificates using cryptogen tool #########
##########################################################
unitedmarbles.com
marblesinc.com

Using configtxgen -&gt; /home/bcuser/git/src/github.com/hyperledger/fabric/release/linux-s390x/bin/configtxgen
##########################################################
#########  Generating Orderer Genesis block ##############
##########################################################
2017-06-18 17:21:14.028 EDT [common/configtx/tool] main -&gt; INFO 001 Loading configuration
2017-06-18 17:21:14.068 EDT [common/configtx/tool] doOutputBlock -&gt; INFO 00b Generating genesis block
2017-06-18 17:21:14.069 EDT [common/configtx/tool] doOutputBlock -&gt; INFO 00c Writing genesis block

#################################################################
### Generating channel configuration transaction 'channel.tx' ###
#################################################################
2017-06-18 17:21:14.081 EDT [common/configtx/tool] main -&gt; INFO 001 Loading configuration
2017-06-18 17:21:14.084 EDT [common/configtx/tool] doOutputChannelCreateTx -&gt; INFO 002 Generating new channel configtx
2017-06-18 17:21:14.084 EDT [common/configtx/tool] doOutputChannelCreateTx -&gt; INFO 003 Writing new channel tx

#################################################################
#######    Generating anchor peer update for Org0MSP   ##########
#################################################################
2017-06-18 17:21:14.095 EDT [common/configtx/tool] main -&gt; INFO 001 Loading configuration
2017-06-18 17:21:14.098 EDT [common/configtx/tool] doOutputAnchorPeersUpdate -&gt; INFO 002 Generating anchor peer update
2017-06-18 17:21:14.098 EDT [common/configtx/tool] doOutputAnchorPeersUpdate -&gt; INFO 003 Writing anchor peer update

#################################################################
#######    Generating anchor peer update for Org1MSP   ##########
#################################################################
2017-06-18 17:21:14.110 EDT [common/configtx/tool] main -&gt; INFO 001 Loading configuration
2017-06-18 17:21:14.113 EDT [common/configtx/tool] doOutputAnchorPeersUpdate -&gt; INFO 002 Generating anchor peer update
2017-06-18 17:21:14.113 EDT [common/configtx/tool] doOutputAnchorPeersUpdate -&gt; INFO 003 Writing anchor peer update
</pre>
<p>This script calls two Hyperledger Fabric utilites- <em>cryptogen</em>, which creates security material (certificates and keys)
and <em>configtxgen</em> (Configuration Transaction Generator), which is called four times, to create four things:</p>
<p>1.      An <strong>orderer genesis block</strong> – this will be the first block on the orderer’s system channel. The location of this block is
specified to the Orderer when it is started up via the ORDERER_GENERAL_GENESISFILE environment variable.</p>
<p>2.      A <strong>channel transaction</strong> – later in the lab, this is sent to the orderer and will cause a new channel to be created when you run
the <strong>peer channel create</strong> command.</p>
<p>3.      An <strong>anchor peer update</strong> for Org0MSP.  An anchor peer is a peer that is set up so that peers from other organizations may
communicate with it.  The concept of anchor peers allows an organization to create multiple peers, perhaps to provide extra capacity
or throughput or resilience (or all the above) but not have to advertise this to outside organizations.</p>
<p>4.      An anchor peer update for Org1MSP.   You will perform the anchor peer updates for both Org0MSP and Org1MSP later in the lab
via <strong>peer channel create</strong> commands.</p>
<p><strong>Step 3:</strong>     Issue the following command which will show you all files that have been modified in the last 15 minutes:</p>
<pre>bcuser@ubuntu-bc:~/zmarbles$ find . -name '*' -mmin -15
./docker-compose.yaml
 .
 .  # lots of cryptographic material in crypto-config/
 .
./channel-artifacts/Org0MSPanchors.tx
./channel-artifacts/Org1MSPanchors.tx
./channel-artifacts/genesis.block
./channel-artifacts/channel.tx
</pre>
<p>These are the files that have been created from running the <em>generateArtifacts.sh</em> script in the previous step. You will see later
how some of them are used.</p>
<p><strong>Step 4:</strong>     You are going to look inside the Docker Compose configuration file a little bit.   Enter the following command:</p>
<pre>vi -R docker-compose.yaml
</pre>
<p>You can enter <code>Ctrl-f</code> to scroll forward in the file and <code>Ctrl-b</code> to scroll back in the file.  The <em>-R</em> flag opens the file in
read-only mode, so if you accidentally change something in the file, it’s okay.  It will not be saved.</p>
<p>The statements within <em>docker-compose.yaml</em> are in a markup language called <em>YAML</em>, which stands
for <em>Y</em>et <em>A</em>nother <em>M</em>arkup <em>L</em>anguage.  (Who says nerds do not have a sense of humor).  We will go over some highlights here.</p>
<p>There are twelve “services”, or Docker containers, defined within this file.  They all start in column 3 and have several statements
to describe them.  For example, the first service defined is <strong>ca0</strong>, and there are <em>image</em>, <em>environment</em>, <em>ports</em>, <em>command</em>, <em>volumes</em>, and
<em>container_name</em> statements that describe it.  If you scroll down in the file with <code>Ctrl-f</code> you will see all the services.  Not
every service has the same statements describing it.</p>
<p>The twelve services are:</p>
<p><strong>ca0</strong> – The certificate authority service for “Organization 0” (unitedmarbles.com)</p>
<p><strong>ca1</strong> – The certificate authority service for “Organization 1” (marblesinc.com)</p>
<p><strong>orderer.blockchain.com</strong> – The single ordering service that both organizations will use</p>
<p><strong>peer0.unitedmarbles.com</strong> – The first peer node for “Organization 0”</p>
<p><strong>peer1.unitedmarbles.com</strong> – The second peer node for “Organization 0”</p>
<p><strong>peer0.marblesinc.com</strong> – The first peer node for “Organization 1”</p>
<p><strong>peer1.marblesinc.com</strong> – The second peer node for “Organization 1”</p>
<p><strong>couchdb0</strong> – The CouchDB server for peer0.unitedmarbles.com</p>
<p><strong>couchdb1</strong> – The CouchDB server for peer1.unitedmarbles.com</p>
<p><strong>couchdb2</strong> – The CouchDB server for peer0.marblesinc.com</p>
<p><strong>couchdb3</strong> – The CouchDB server for peer1.marblesinc.com</p>
<p><strong>cli</strong> – The Docker container from which you will enter Hyperledger Fabric command line interface (CLI) commands targeted
towards a peer node.</p>
<p>I will describe how several statements work within the file, but time does not permit me to address every single line in the file!</p>
<p><em>image</em> statements define which Docker image file the Docker container will be created from.  Basically, the Docker image file is a
static file that, once created, is read-only.  A Docker container is based on a Docker image, and any changes to the file system
within a Docker container are stored within the container.  So, multiple Docker containers can be based on the same Docker image,
and each Docker container keeps track of its own changes.  For example, the containers built for the <strong>ca0</strong> and <strong>ca1</strong> service will
be based on the <em>hyperledger/fabric-ca:latest</em> Docker image because they both have this statement in their definition:</p>
<pre>image: hyperledger/fabric-ca
</pre>
<p><em>environment</em> statements define environment variables that are available to the Docker container.  The Hyperledger Fabric processes
make ample use of environment variables.  In general, you will see that the certificate authority environment variables start with
<em>FABRIC_CA</em>, the orderer’s environment variables start with <em>ORDERER_GENERAL</em>, and the peer node’s environment variables start with
<em>CORE</em>.  These variables control behavior of the Hyperledger Fabric code, and in many cases, will override values that are specified
in configuration files. Notice that all the peers and the orderer have an environment variable to specify that TLS is
enabled-   <em>CORE_PEER_TLS_ENABLED=true</em> for the peers and <em>ORDERER_GENERAL_TLS_ENABLED=true</em> for the orderer.  You will notice there
are other TLS-related variables to specify private keys, certificates and root certificates.</p>
<p><em>ports</em> statements map ports on our Linux on IBM Z host to ports within the Docker container.  The syntax is <em>&lt;host port&gt;:&lt;Docker
container port&gt;</em>.  For example, the service for <strong>ca1</strong> has this port statement:</p>
<pre>ports:
  - "8054:7054"
</pre>
<p>This says that port 7054 in the Docker container for the <strong>ca1</strong> node will be mapped to port 8054 on your Linux on IBM Z host.   This
is how you can run two CA nodes in two Docker containers and four peer nodes in four Docker containers and keep things straight-
within each CA node they are both using port 7054, and within each peer node Docker container, they are all using port 7051 for the
same thing, but if you want to get to one of the peers from your host or even the outside world, you would target the appropriate
host-mapped port. <strong>Note:</strong> To see the port mappings for the peers you have to look in <em>base/docker-compose.yaml</em>.  See if you can
figure out why.</p>
<p><em>container_name</em> statements are used to create hostnames that the Docker containers spun up by the docker-compose command use to
communicate with each other.  A separate, private network will be created by Docker where the 12 Docker containers can communicate
with each other via the names specified by <em>container_name</em>.  So, they do not need to worry about the port mappings from the <em>ports</em>
statements-  those are used for trying to get to the Docker containers from outside the private network created by Docker.</p>
<p><em>volumes</em> statements are used to map file systems on the host to file systems within the Docker container.  Just like with ports, the
file system on the host system is on the left and the file system name mapped within the Docker container is on the right. For
example, look at this statement from the <strong>ca0</strong> service:</p>
<pre>volumes:
  - ./crypto-config/peerOrganizations/unitedmarbles.com/ca/:/etc/hyperledger/fabric-ca-server-config
</pre>
<p>The security-related files that were created from the previous step where you ran <em>generateArtifacts.sh</em> were all within
the <em>crypto-config</em> directory on your Linux on IBM Z host.  The prior <em>volumes</em> statement is how this stuff is made accessible to the
<strong>ca1</strong> service that will run within the Docker container.   Similar magic is done for the other services as well, except for
the CouchDB services.</p>
<p><em>extends</em> statements are used by the peer nodes.  What this does is merge in other statements from another file.  For example, you
may notice that the peer nodes do not contain an images statement.  How does Docker know what Docker image file to base the
container on?  That is defined in the file, <em>base/peer-base.yaml</em>, specified in the <em>extends</em> section of <em>base/docker-compose.yaml</em>,
which is specified in the <em>extends</em> section of <em>docker-compose.yaml</em> for the peer nodes.</p>
<p><em>command</em> statements define what command is run when the Docker container is started.  This is how the actual Hyperledger Fabric
processes get started.  You can define default commands when you create the Docker image.  This is why you do not see <em>command</em>
statements for the <strong>cli</strong> service or for the CouchDB services.   For the peer nodes, the command statement is specified in the
<em>base/peer-base.yaml</em> file.</p>
<p><em>working_dir</em> statements define what directory the Docker container will be in when its startup commands are run.  Again, defaults
for this can be defined when the Docker image is created.</p>
<p>When you are done reviewing the <em>docker-compose.yaml</em> file, exit the <em>vi</em> session by typing <code>:q!</code>  (that’s “colon”, “q”,
“exclamation point”) which will exit the file and discard any changes you may have accidentally made while browsing through the file.
If <code>:q!</code> doesn’t work right away, you may have to hit the escape key first before trying it.  If that still doesn’t work, ask an
instructor for help-  <em>vi</em> can be tricky if you are not used to it.</p>
<p>If you would like to see what is in the <em>base/docker-compose-base.yaml</em> and <em>base/peer-base.yaml</em> files I mentioned, take a quick
peek with <code>vi -R base/docker-compose-base.yaml</code> and <code>vi -R base/peer-base.yaml</code> and exit with the <code>:q!</code> key sequence when you
have had enough.</p>
<p><strong>Step 5:</strong>     Start the Hyperledger Fabric network by entering the command shown below:</p>
<pre>bcuser@ubuntu16042:~/zmarbles$ docker-compose up -d
Creating network "zmarbles_default" with the default driver
Creating couchdb0 ...
Creating couchdb1 ...
Creating orderer.blockchain.com ...
Creating couchdb0
Creating couchdb1
Creating orderer.blockchain.com
Creating couchdb2 ...
Creating ca_Org0 ...
Creating couchdb2
Creating couchdb3 ...
Creating ca_Org0
Creating ca_Org1 ...
Creating couchdb3
Creating ca_Org1 ... done
Creating peer0.unitedmarbles.com ...
Creating peer0.marblesinc.com ...
Creating peer1.marblesinc.com ...
Creating peer1.unitedmarbles.com ...
Creating peer1.marblesinc.com
Creating peer0.marblesinc.com
Creating peer0.unitedmarbles.com
Creating peer0.marblesinc.com ... done
Creating cli ...
Creating cli ... done
</pre>
<p><strong>Step 6:</strong>     Verify that all twelve services are <em>Up</em> and none of them say <em>Exited</em>.  The <em>Exited</em> status means something went
wrong, and you should check with an instructor for help if you see any of them in <em>Exited</em> status.</p>
<p>If, however, all twelve of your Docker containers are in <em>Up</em> status, as in the output below, you are ready to proceed to the next
section:</p>
<pre>bcuser@ubuntu-bc:~/zmarbles$ docker ps -a
CONTAINER ID        IMAGE                        COMMAND                  CREATED             STATUS              PORTS                                              NAMES
fbe81505b8a2        hyperledger/fabric-tools     "/bin/bash"              3 minutes ago       Up 3 minutes                                                           cli
2117492e94aa        hyperledger/fabric-peer      "peer node start"        3 minutes ago       Up 3 minutes        0.0.0.0:8051-&gt;7051/tcp, 0.0.0.0:8053-&gt;7053/tcp     peer1.unitedmarbles.com
edbdf1ab0521        hyperledger/fabric-peer      "peer node start"        3 minutes ago       Up 3 minutes        0.0.0.0:7051-&gt;7051/tcp, 0.0.0.0:7053-&gt;7053/tcp     peer0.unitedmarbles.com
e32d0cf014a8        hyperledger/fabric-peer      "peer node start"        3 minutes ago       Up 3 minutes        0.0.0.0:9051-&gt;7051/tcp, 0.0.0.0:9053-&gt;7053/tcp     peer0.marblesinc.com
5007b908c088        hyperledger/fabric-peer      "peer node start"        3 minutes ago       Up 3 minutes        0.0.0.0:10051-&gt;7051/tcp, 0.0.0.0:10053-&gt;7053/tcp   peer1.marblesinc.com
00216a720f03        hyperledger/fabric-ca        "sh -c 'fabric-ca-ser"   3 minutes ago       Up 3 minutes        0.0.0.0:7054-&gt;7054/tcp                             ca_Org0
e8c7cf2d2e43        hyperledger/fabric-ca        "sh -c 'fabric-ca-ser"   3 minutes ago       Up 3 minutes        0.0.0.0:8054-&gt;7054/tcp                             ca_Org1
45820a99b449        hyperledger/fabric-orderer   "orderer"                3 minutes ago       Up 3 minutes        0.0.0.0:7050-&gt;7050/tcp                             orderer.blockchain.com
b350e0d256e5        hyperledger/fabric-couchdb   "tini -- /docker-entr"   3 minutes ago       Up 3 minutes        4369/tcp, 9100/tcp, 0.0.0.0:6984-&gt;5984/tcp         couchdb1
9ae2a7718348        hyperledger/fabric-couchdb   "tini -- /docker-entr"   3 minutes ago       Up 3 minutes        4369/tcp, 9100/tcp, 0.0.0.0:7984-&gt;5984/tcp         couchdb2
587eab66c818        hyperledger/fabric-couchdb   "tini -- /docker-entr"   3 minutes ago       Up 3 minutes        4369/tcp, 9100/tcp, 0.0.0.0:8984-&gt;5984/tcp         couchdb3
611e754f83e7        hyperledger/fabric-couchdb   "tini -- /docker-entr"   3 minutes ago       Up 3 minutes        4369/tcp, 9100/tcp, 0.0.0.0:5984-&gt;5984/tcp         couchdb0
</pre>
<a name="user-content-section-5-create-a-channel-in-the-hyperledger-fabric-network"></a>
<h2><a href="#section-5---------create-a-channel-in-the-hyperledger-fabric-network" aria-hidden="true" class="anchor" id="user-content-section-5---------create-a-channel-in-the-hyperledger-fabric-network"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 5       - Create a channel in the Hyperledger Fabric network</h2>
<p>In a Hyperledger Fabric v1.0 network, multiple channels can be created.  Each channel can have its own policies for things such as
requirements for endorsement and what organizations may join the channel.  This allows for a subset of network participants to
participate in their own channel.</p>
<p>Imagine a scenario where OrgA, OrgB and OrgC are three organizations participating in the network. You could set up a channel in which
all three organizations participate.   You could also set up a channel where only OrgA and OrgB participate.   In this case, the peers
in OrgC would not see the transactions occurring in that channel.    OrgA could participate in another channel with only OrgC, in
which case OrgB does not have visibility.  And so on.</p>
<p>You could create channels with the same participants, but have different policies.  For example, perhaps one channel with OrgA, OrgB,
and OrgC could require all three organizations to endorse a transaction proposal, but another channel with OrgA, OrgB and OrgC could
require just two, or even just one, of the three organizations to endorse a transaction proposal.</p>
<p>The decision on how many channels to create and what policies they have will usually be driven by the requirements of the particular
business problem being solved.</p>
<p><strong>Step 1:</strong>     Access the <em>cli</em> Docker container:</p>
<pre>bcuser@ubuntu-bc:~/zmarbles$ docker exec -it cli bash
root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p>Observe that your command prompt changes when you enter the Docker container’s shell.</p>
<p>The <em>docker exec</em> command runs a command against an existing Docker container.  The <em>-it</em> flags basically work together to say,
“we want an interactive terminal session with this Docker container”.  <em>cli</em> is the name of the Docker container (this came from the
<em>container_name</em> statement in the <em>docker-compose.yaml</em> file for the <em>cli</em> service).  <em>bash</em> is the name of the command you want to
enter.   In other words, you are entering a Bash shell within the <em>cli</em> Docker container.  For most of the rest of the lab, you will be
entering commands within this Bash shell.</p>
<p>Instead of working as user <em>bcuser</em> on the ubuntu-bc server in the <em>~/zmarbles</em> directory, you are now inside the Docker container with
ID <em>fbe81505b8a2</em> (your ID will differ), working in the <em>/opt/gopath/src/github.com/hyperledger/fabric/peer</em> directory.  It is no
coincidence that that directory is the value of the <em>working_dir</em> statement for the <em>cli</em> service in your <em>docker-compose.yaml</em> file.</p>
<p><strong>Step 2:</strong> Read on to learn about a convenience script to point to a particular peer from the <em>cli</em> Docker container. A convenience
script named <em>setpeer</em> is provided within the <em>cli</em> container that is in the <em>scripts</em> subdirectory of your current working directory.
This script will set the environment variables to the values necessary to point to a particular peer.   The script takes two
arguments.  This first argument is either 0 or 1 for Organization 0 or Organization 1 respectively, and the second argument is for
either Peer 0 or Peer 1 of the organization selected by the first argument.   Therefore, throughout the remainder of this lab, before
sending commands to a peer, you will enter one of the following four valid combinations, depending on which peer you want to run the
command on:</p>
<p><em>source scripts/setpeer 0 0</em>   # to target Org 0, peer 0  (peer0.unitedmarbles.com)</p>
<p><em>source scripts/setpeer 0 1</em>   # to target Org 0, peer 1  (peer1.united marbles.com)</p>
<p><em>source scripts/setpeer 1 0</em>   # to target Org 1, peer 0  (peer0.marblesinc.com)</p>
<p><em>source scripts/setpeer 1 1</em>   # to target Org 1, peer 1  (peer1.marblesinc.com)</p>
<p><strong>Step 3:</strong> Choose your favorite peer and use one of the four <em>source scripts/setpeer</em> commands listed in the prior step.   Although
you are going to join all four peers to our channel, you only need to issue the channel creation command once.  You can issue it from
any of the four peers, so pick your favorite peer and issue the source command.  In this screen snippet, I have chosen Org 1, peer 1:</p>
<pre>root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer# source scripts/setpeer 1 1
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/peers/peer1.marblesinc.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.key
CORE_PEER_LOCALMSPID=Org1MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/users/Admin@marblesinc.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer1.marblesinc.com:7051
root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p>The last environment variable listed, <em>CORE_PEER_ADDRESS</em>, determines to which peer your commands will be routed.</p>
<p><strong>Step 4:</strong>     The Hyperledger Fabric network is configured to require TLS, so when you enter your peer commands, you need to add a
flag that indicates TLS is enabled, and you need to add an argument that points to the root signer certificate of the certificate
authority for the orderer service.</p>
<p>What you are going to do next is set an environment variable that will specify these arguments for you, and that way you will not
have to type out the hideously long path for the CA’s root signer certificate every time. Enter this command exactly as shown:</p>
<pre>root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer# export FABRIC_TLS="--tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/blockchain.com/orderers/orderer.blockchain.com/msp/tlscacerts/tlsca.blockchain.com-cert.pem"
</pre>
<p><strong>Note:</strong> This above is intended to be entered without any line breaks-  if you are cutting and pasting this, depending on the medium
you are using, line breaks may have been introduced.  There only needs to be one space between the <strong>--cafile</strong> and the long path name
to the CA certificate file.  I apologize for the complexity of this command, but once you get it right, you won’t have to hassle with
it again as long as you do not exit the cli Docker container’s bash shell.</p>
<p><strong>Step 5:</strong>     Verify that you entered the FABRIC_TLS environment variable correctly.  (Note that when setting, or exporting, the variable
you did not prefix the variable with a “$”, but when referencing it you do prefix it with a “$”.   Your output should look like this:</p>
<pre>root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer# echo $FABRIC_TLS
--tls --cafile /opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/ordererOrganizations/blockchain.com/orderers/orderer.blockchain.com/msp/cacerts/ca.blockchain.com-cert.pem
</pre>
<p><strong>Step 6:</strong> Now enter this command:</p>
<pre>root@fbe81505b8a2:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel create -o orderer.blockchain.com:7050  -f channel-artifacts/channel.tx  $FABRIC_TLS -c mychannel
</pre>
<p>If this goes well, after a few seconds, you are going to see a whole bunch of gibberish and then the last line before you get
your command prompt back will end with the reassuring phrase, “Exiting…..”.   Here is a screen snippet that shows the end of the output, and I have included several lines of gibberish so you can feel good if your gibberish looks like my gibberish.  Trust me, it is working as coded!</p>
<pre>2017-06-18 23:14:19.197 UTC [channelCmd] readBlock -&gt; DEBU 019 Got status:*orderer.DeliverResponse_Status
2017-06-18 23:14:19.197 UTC [msp] GetLocalMSP -&gt; DEBU 01a Returning existing local MSP
2017-06-18 23:14:19.197 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 01b Obtaining default signing identity
2017-06-18 23:14:19.199 UTC [channelCmd] InitCmdFactory -&gt; INFO 01c Endorser and orderer connections initialized
2017-06-18 23:14:19.399 UTC [msp] GetLocalMSP -&gt; DEBU 01d Returning existing local MSP
2017-06-18 23:14:19.399 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 01e Obtaining default signing identity
2017-06-18 23:14:19.399 UTC [msp] GetLocalMSP -&gt; DEBU 01f Returning existing local MSP
2017-06-18 23:14:19.399 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 020 Obtaining default signing identity
2017-06-18 23:14:19.399 UTC [msp/identity] Sign -&gt; DEBU 021 Sign: plaintext: 0AE3060A1508021A0608CB929CCA0522...412A4B6FE11512080A021A0012021A00
2017-06-18 23:14:19.399 UTC [msp/identity] Sign -&gt; DEBU 022 Sign: digest: D729BF530976D59B9E03D75121F00AD0F6B153A774746D45C41B51BEB7DB7D0E 2017-06-18 23:14:19.402 UTC [channelCmd] readBlock -&gt; DEBU 023 Received block:0
2017-06-18 23:14:19.402 UTC [main] main -&gt; INFO 024 Exiting.....
</pre>
<p>Proceed to the next section where you will join each peer to the channel.</p>
<a name="user-content-section-6-instruct-each-peer-node-to-join-the-channel"></a>
<h2><a href="#section-6---------instruct-each-peer-node-to-join-the-channel" aria-hidden="true" class="anchor" id="user-content-section-6---------instruct-each-peer-node-to-join-the-channel"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 6       - Instruct each peer node to join the channel</h2>
<p>In the last section, you issued the <em>peer channel create</em> command from one of the peers.   Now any peer that you want to join the
channel may join- you will issue the <em>peer channel join</em> command from each peer.</p>
<p>For a peer to be eligible to join a channel, it must be a member of an organization that is authorized to join the channel.  When you
created your channel, you authorized <em>Org0MSP</em> and <em>Org1MSP</em> to join the channel.  Each of your four peers belongs to one of those two
organizations- two peers for each one- so they will be able to join successfully.   If someone from an organization other than <em>Org0MSP</em>
or <em>Org1MSP</em> attempted to join their peers to this channel, the attempt would fail.</p>
<p>You are going to repeat the following steps for each of the four peer nodes, in order to show that the peer successfully joined the
channel:</p>
<ol>
<li>Use the <em>scripts/setpeer</em> script to point the CLI to the peer</li>
<li>Use the <em>peer channel list</em> command to show that the peer is not joined to any channels</li>
<li>Use the <em>peer channel join</em> command to join the peer to your channel</li>
<li>Use the <em>peer channel list</em> command again to see that the peer has joined your channel</li>
</ol>
<p><strong>Step 1:</strong>     Point the <em>cli</em> to <em>peer0</em> for <em>Org0MSP</em>:</p>
<pre>root@866fe10bfea1:/opt/gopath/src/github.com/hyperledger/fabric/peer# source scripts/setpeer 0 0
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.key
CORE_PEER_LOCALMSPID=Org0MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/users/Admin@unitedmarbles.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.unitedmarbles.com:7051
</pre>
<p><strong>Step 2:</strong> Enter <em>peer channel list</em> and observe that no channels are returned at the end of the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 18:56:22.925 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:56:22.925 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:56:22.928 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6BE94CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 86A97AF3B9B97F0B27B4043830C8802D583293D9E723AB039588C4E03F261521
2017-07-11 18:56:22.931 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 18:56:22.931 UTC [main] main -&gt; INFO 00a Exiting.....
</pre>
<p><strong>Step 3:</strong> Issue <em>peer channel join -b mychannel.block</em> to join channel <em>mychannel</em>.  If you gave your channel a name other than
<em>mychannel</em>, then change <em>mychannel</em> to the name of your channel.  If you are still on the happy path, your output will look similar to
this:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel.block
2017-07-11 18:58:54.252 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:58:54.252 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:58:54.254 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AA9070A5B08011A0B08EEBF94CB0510...999A2A13AB5A1A080A000A000A000A00
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 60ACC3EBD0EFE06F18420C583756E0521D036C7DB53145766DD27C33108BFBE3
2017-07-11 18:58:54.303 UTC [channelCmd] executeJoin -&gt; INFO 009 Peer joined the channel!
2017-07-11 18:58:54.303 UTC [main] main -&gt; INFO 00a Exiting.....
root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p><strong>Step 4:</strong>     Repeat the <em>peer channel list</em> command and now you should see your channel listed in the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 19:00:38.435 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:00:38.435 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:00:38.437 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6C094CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: C3E15938B003ADE8279D463B4138A003961F5C35B9F40ECC0D2BE5C3914C528E
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 00a mychannel
2017-07-11 19:00:38.440 UTC [main] main -&gt; INFO 00b Exiting.....
</pre>
<p><strong>Step 5:</strong>     Point the <em>cli</em> to <em>peer1</em> for <em>Org0MSP</em>:</p>
<pre>root@866fe10bfea1:/opt/gopath/src/github.com/hyperledger/fabric/peer# source scripts/setpeer 0 1
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer1.unitedmarbles.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.key
CORE_PEER_LOCALMSPID=Org0MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/users/Admin@unitedmarbles.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer1.unitedmarbles.com:7051
</pre>
<p><strong>Step 6:</strong> Enter <em>peer channel list</em> and observe that no channels are returned at the end of the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 18:56:22.925 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:56:22.925 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:56:22.928 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6BE94CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 86A97AF3B9B97F0B27B4043830C8802D583293D9E723AB039588C4E03F261521
2017-07-11 18:56:22.931 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 18:56:22.931 UTC [main] main -&gt; INFO 00a Exiting.....
</pre>
<p><strong>Step 7:</strong>     Issue <em>peer channel join -b mychannel.block</em> to join channel <em>mychannel</em>.  If you gave your channel a name other
than <em>mychannel</em>, then change <em>mychannel</em> to the name of your channel.  If you are still on the happy path, your output will look
similar to this:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel.block
2017-07-11 18:58:54.252 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:58:54.252 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:58:54.254 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AA9070A5B08011A0B08EEBF94CB0510...999A2A13AB5A1A080A000A000A000A00
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 60ACC3EBD0EFE06F18420C583756E0521D036C7DB53145766DD27C33108BFBE3
2017-07-11 18:58:54.303 UTC [channelCmd] executeJoin -&gt; INFO 009 Peer joined the channel!
2017-07-11 18:58:54.303 UTC [main] main -&gt; INFO 00a Exiting.....
root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p><strong>Step 8:</strong> Repeat the <em>peer channel list</em> command and now you should see your channel listed:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 19:00:38.435 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:00:38.435 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:00:38.437 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6C094CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: C3E15938B003ADE8279D463B4138A003961F5C35B9F40ECC0D2BE5C3914C528E
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 00a mychannel
2017-07-11 19:00:38.440 UTC [main] main -&gt; INFO 00b Exiting.....
</pre>
<p><strong>Step 9:</strong>     Point the <em>cli</em> to <em>peer0</em> for <em>Org1MSP</em>:</p>
<pre>root@866fe10bfea1:/opt/gopath/src/github.com/hyperledger/fabric/peer# source scripts/setpeer 1 0
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/peers/peer0.marblesinc.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.key
CORE_PEER_LOCALMSPID=Org1MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/users/Admin@marblesinc.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer0.marblesinc.com:7051
</pre>
<p><strong>Step 10:</strong> Enter <em>peer channel list</em> and observe that no channels are returned at the end of the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 18:56:22.925 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:56:22.925 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:56:22.928 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6BE94CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 86A97AF3B9B97F0B27B4043830C8802D583293D9E723AB039588C4E03F261521
2017-07-11 18:56:22.931 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 18:56:22.931 UTC [main] main -&gt; INFO 00a Exiting.....
</pre>
<p><strong>Step 11:</strong> Issue <em>peer channel join -b mychannel.block</em> to join channel <em>mychannel</em>.  If you gave your channel a name other
than <em>mychannel</em>, then change <em>mychannel</em> to the name of your channel.  If you are still on the happy path, your output will look
similar to this:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel.block
2017-07-11 18:58:54.252 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:58:54.252 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:58:54.254 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AA9070A5B08011A0B08EEBF94CB0510...999A2A13AB5A1A080A000A000A000A00
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 60ACC3EBD0EFE06F18420C583756E0521D036C7DB53145766DD27C33108BFBE3
2017-07-11 18:58:54.303 UTC [channelCmd] executeJoin -&gt; INFO 009 Peer joined the channel!
2017-07-11 18:58:54.303 UTC [main] main -&gt; INFO 00a Exiting.....
root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p><strong>Step 12:</strong> Repeat the <em>peer channel list</em> command and now you should see your channel listed in the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 19:00:38.435 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:00:38.435 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:00:38.437 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6C094CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: C3E15938B003ADE8279D463B4138A003961F5C35B9F40ECC0D2BE5C3914C528E
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 00a mychannel
2017-07-11 19:00:38.440 UTC [main] main -&gt; INFO 00b Exiting.....
</pre>
<p><strong>Step 13:</strong>    Point the <em>cli</em> to <em>peer1</em> for <em>Org1MSP</em>:</p>
<pre>root@866fe10bfea1:/opt/gopath/src/github.com/hyperledger/fabric/peer# source scripts/setpeer 1 1
CORE_PEER_TLS_ROOTCERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/peers/peer1.marblesinc.com/tls/ca.crt
CORE_PEER_TLS_KEY_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.key
CORE_PEER_LOCALMSPID=Org1MSP
CORE_VM_ENDPOINT=unix:///host/var/run/docker.sock
CORE_PEER_TLS_CERT_FILE=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/unitedmarbles.com/peers/peer0.unitedmarbles.com/tls/server.crt
CORE_PEER_TLS_ENABLED=true
CORE_PEER_MSPCONFIGPATH=/opt/gopath/src/github.com/hyperledger/fabric/peer/crypto/peerOrganizations/marblesinc.com/users/Admin@marblesinc.com/msp
CORE_PEER_ID=cli
CORE_LOGGING_LEVEL=DEBUG
CORE_PEER_ADDRESS=peer1.marblesinc.com:7051
</pre>
<p>The output from this should be familiar to you by now so from now on I will not bother showing it anymore in the remainder of these
lab instructions.</p>
<p><strong>Step 14:</strong> Enter <em>peer channel list</em> and observe that no channels are returned at the end of the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 18:56:22.925 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:56:22.925 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:56:22.928 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6BE94CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 18:56:22.928 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 86A97AF3B9B97F0B27B4043830C8802D583293D9E723AB039588C4E03F261521
2017-07-11 18:56:22.931 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 18:56:22.931 UTC [main] main -&gt; INFO 00a Exiting.....
</pre>
<p><strong>Step 15:</strong> Issue <em>peer channel join -b mychannel.block</em> to join channel <em>mychannel</em>.  If you gave your channel a name other
than <em>mychannel</em>, then change <em>mychannel</em> to the name of your channel.  If you are still on the happy path, your output will look
similar to this:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel join -b mychannel.block
2017-07-11 18:58:54.252 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 18:58:54.252 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 18:58:54.254 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AA9070A5B08011A0B08EEBF94CB0510...999A2A13AB5A1A080A000A000A000A00
2017-07-11 18:58:54.254 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: 60ACC3EBD0EFE06F18420C583756E0521D036C7DB53145766DD27C33108BFBE3
2017-07-11 18:58:54.303 UTC [channelCmd] executeJoin -&gt; INFO 009 Peer joined the channel!
2017-07-11 18:58:54.303 UTC [main] main -&gt; INFO 00a Exiting.....
root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p><strong>Step 16:</strong>    Repeat the <em>peer channel list</em> command and now you should see your channel listed in the output:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer channel list
2017-07-11 19:00:38.435 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:00:38.435 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:00:38.437 UTC [channelCmd] InitCmdFactory -&gt; INFO 006 Endorser and orderer connections initialized
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 007 Sign: plaintext: 0AAA070A5C08031A0C08D6C094CB0510...631A0D0A0B4765744368616E6E656C73
2017-07-11 19:00:38.437 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: digest: C3E15938B003ADE8279D463B4138A003961F5C35B9F40ECC0D2BE5C3914C528E
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 009 Channels peers has joined to:
2017-07-11 19:00:38.440 UTC [channelCmd] list -&gt; INFO 00a mychannel
2017-07-11 19:00:38.440 UTC [main] main -&gt; INFO 00b Exiting.....
</pre>
<a name="user-content-section-7-define-an-anchor-peer-for-each-organization-in-the-channel"></a>
<h2><a href="#section-7---------define-an-anchor-peer-for-each-organization-in-the-channel" aria-hidden="true" class="anchor" id="user-content-section-7---------define-an-anchor-peer-for-each-organization-in-the-channel"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 7       - Define an “anchor” peer for each organization in the channel</h2>
<p>An anchor peer for an organization is a peer that is known by all the other organizations in a channel.  Not all peers for an
organization need to be known by outside organizations.  Peers not defined as anchor peers are visible only within their own
organization.</p>
<p>In a production environment, an organization will typically define more than one peer as an anchor peer for availability and
resilience. In our lab, we will just define one of the two peers for each organization as an anchor peer.</p>
<p>The definition of an anchor peer took place back in section 4 when you ran the <em>generateArtifacts.sh</em> script.  Two of the output files
from that step were <em>Org0MSPanchors.tx</em> and <em>Org1MSPanchors.tx.</em>  These are input files to define the anchor peers for Org0MSP and
Org1MSP respectively.  After the channel is created, each organization needs to run this command.  You will do that now-  this process
is a little bit confusing in that the command to do this starts with <em>peer channel create …</em> but the command will actually <em>update</em> the
existing channel with the information about the desired anchor peer.  Think of <em>peer channel create</em> here as meaning, “create an update
transaction for a channel”.</p>
<p>Issue the following commands which will define the two anchor peers:</p>
<pre>source scripts/setpeer 0 0   # to switch to Peer 0 for Org0MSP
peer channel create -o orderer.blockchain.com:7050 -f channel-artifacts/Org0MSPanchors.tx $FABRIC_TLS -c mychannel   # change mychannel if you customized your channel name
source scripts/setpeer 1 0   # to switch to Peer 0 for Org1MSP
peer channel create -o orderer.blockchain.com:7050 -f channel-artifacts/Org1MSPanchors.tx $FABRIC_TLS -c mychannel   # change mychannel if you customized your channel name
</pre>
<a name="user-content-section-8-install-the-chaincode-on-the-peer-nodes"></a>
<h2><a href="#section-8---------install-the-chaincode-on-the-peer-nodes" aria-hidden="true" class="anchor" id="user-content-section-8---------install-the-chaincode-on-the-peer-nodes"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 8       - Install the chaincode on the peer nodes</h2>
<p>Installing chaincode on the peer nodes puts the chaincode binary executable on a peer node. If you want the peer to be an endorser on a
channel for a chaincode, then you must install the chaincode on that peer.  If you only want the peer to be a committer on a channel
for a chaincode, then you do not have to install the chaincode on that peer.  In this section, you will install the chaincode on two of
your peers.</p>
<p><strong>Step 1:</strong> Enter <code>source scripts/setpeer 0 0</code> to switch to Peer0 in Org0MSP.</p>
<p><strong>Step 2:</strong>     Install the marbles chaincode on Peer0 in Org0MSP. You are looking for a message near the end of the output similar to what
is shown here:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode install -n marbles -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/marbles
2017-07-11 19:08:31.274 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:08:31.274 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:08:31.275 UTC [golang-platform] getCodeFromFS -&gt; DEBU 006 getCodeFromFS github.com/hyperledger/fabric/examples/chaincode/go/marbles
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 007 Discarding GOROOT package bytes
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 008 Discarding GOROOT package encoding/json
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 009 Discarding GOROOT package errors
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 00a Discarding GOROOT package fmt
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 00b Discarding provided package github.com/hyperledger/fabric/core/chaincode/shim
2017-07-11 19:08:31.345 UTC [golang-platform] func1 -&gt; DEBU 00c Discarding provided package github.com/hyperledger/fabric/protos/peer
2017-07-11 19:08:31.346 UTC [golang-platform] func1 -&gt; DEBU 00d Discarding GOROOT package strconv
2017-07-11 19:08:31.346 UTC [golang-platform] func1 -&gt; DEBU 00e Discarding GOROOT package strings
2017-07-11 19:08:31.346 UTC [golang-platform] func1 -&gt; DEBU 00f Discarding GOROOT package
2017-07-11 19:08:31.346 UTC [golang-platform] GetDeploymentPayload -&gt; DEBU 010 done
2017-07-11 19:08:31.348 UTC [msp/identity] Sign -&gt; DEBU 011 Sign: plaintext: 0AAA070A5C08031A0C08AFC494CB0510...E3E7FF070000FFFF4526F68D00800000
2017-07-11 19:08:31.348 UTC [msp/identity] Sign -&gt; DEBU 012 Sign: digest: E889A960468495CE465393C69A1C379AA1BF0CEB02A380782670821B9295713B
2017-07-11 19:08:31.352 UTC [chaincodeCmd] install -&gt; DEBU 013 Installed remotely response:&lt;status:200 payload:"OK" &gt;
2017-07-11 19:08:31.352 UTC [main] main -&gt; INFO 014 Exiting.....
</pre>
<p><strong>Step 3:</strong> Enter <code>source scripts/setpeer 1 0</code> to switch to Peer0 in Org1MSP.</p>
<p><strong>Step 4:</strong> Enter</p>
<pre>peer chaincode install -n marbles -v 1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/marbles
</pre>
<p>which will install the marbles chaincode on Peer0 in Org1MSP.  You should receive a message similar to what you received in step 2.</p>
<p>An interesting thing to note is that for the <em>peer chaincode install</em> command you did not need to specify the $FABRIC_TLS environment
variable.  This is because this operation does not cause the peer to communicate with the orderer.</p>
<p>Installing chaincode on a peer is a necessary step, but not the only step needed, in order to execute chaincode on that peer.  The
chaincode must also be instantiated on a channel that the peer participates in.  You will do that in the next section.</p>
<a name="user-content-section-9-instantiate-the-chaincode-on-the-channel"></a>
<h2><a href="#section-9---------instantiate-the-chaincode-on-the-channel" aria-hidden="true" class="anchor" id="user-content-section-9---------instantiate-the-chaincode-on-the-channel"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 9       - Instantiate the chaincode on the channel</h2>
<p>In the previous section, you installed chaincode on two of your four peers.  Chaincode installation is a peer-level operation.
Chaincode instantiation, however, is a channel-level operation.  It only needs to be performed once on the channel, no matter how many
peers have joined the channel.</p>
<p>Chaincode instantiation causes a transaction to occur on the channel, so even if a peer on the channel does not have the chaincode
installed, it will be made aware of the instantiate transaction, and thus be aware that the chaincode exists and be able to commit
transactions from the chaincode to the ledger-  it just would not be able to endorse a transaction on the chaincode.</p>
<p><strong>Step 1:</strong>     You want to stay signed in to the <em>cli</em> Docker container, however, you will also want to issue some Docker commands from your
Linux on IBM Z host, so at this time open up a second PuTTY session and sign in to your Linux on IBM Z host.   For the remainder of
this lab, I will refer to the session where you are in the <em>cli</em> Docker container as <em>PuTTY Session 1</em>, and this new session where you
are at the Linux on IBM Z host as <em>PuTTY Session 2</em>.</p>
<p><strong>Step 2:</strong>.    You are going to confirm that you do not have any chaincode Docker images created, nor any Docker chaincode containers
running currently, by issuing several Docker commands from PuTTY Session 2.</p>
<p>Enter <code>docker images</code> and observe that all of your images begin with <em>hyperledger</em>.  If your output screen is “too busy”, try
entering <code>docker images dev-*</code> and you should see very little output except for some column headings.   This will show only those
images that begin with <em>dev-*</em>, of which there should not be any at this point in the lab.</p>
<p>Now do essentially the same thing with <em>docker ps</em>.   Enter <code>docker ps</code> and you should see all of the Docker containers for the
Hyperledger Fabric processes and CouchDB, but no chaincode-related Docker containers.  Entering <code>docker ps | grep -v hyperledger</code> will
make this fact stand out more as you should only see column headers in your output. (The <em>-v</em> flag for grep says “do not show me
anything that contains the string “hyperledger”).</p>
<p>Now that you have established that you have no chaincode-related Docker images or containers present, try to instantiate the chaincode.</p>
<p><strong>Step 3:</strong>     On PuTTY Session 1, switch to Peer 0 of Org0MSP by entering <code>source scripts/setpeer 0 0</code></p>
<p><strong>Step 4:</strong> On PuTTY Session 1, issue the command to instantiate the chaincode on the channel:</p>
<pre>root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer# peer chaincode instantiate -o orderer.blockchain.com:7050 -n marbles -v 1.0 -c '{"Args":["init","1"]}' -P "OR ('Org0MSP.member','Org1MSP.member')" $FABRIC_TLS -C mychannel
2017-07-11 19:20:55.907 UTC [msp] GetLocalMSP -&gt; DEBU 004 Returning existing local MSP
2017-07-11 19:20:55.907 UTC [msp] GetDefaultSigningIdentity -&gt; DEBU 005 Obtaining default signing identity
2017-07-11 19:20:55.908 UTC [chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 006 Using default escc
2017-07-11 19:20:55.909 UTC [chaincodeCmd] checkChaincodeCmdParams -&gt; INFO 007 Using default vscc
2017-07-11 19:20:55.909 UTC [msp/identity] Sign -&gt; DEBU 008 Sign: plaintext: 0AB5070A6708031A0C0897CA94CB0510...314D53500A04657363630A0476736363
2017-07-11 19:20:55.909 UTC [msp/identity] Sign -&gt; DEBU 009 Sign: digest: 86EEF32422E05FEC0C7AB4FBBDA9E1405CFF7C88487A91097A84CA5D1B7F66CE
2017-07-11 19:21:09.330 UTC [msp/identity] Sign -&gt; DEBU 00a Sign: plaintext: 0AB5070A6708031A0C0897CA94CB0510...0248951F07CC056DF7D930D917AB7B03
2017-07-11 19:21:09.331 UTC [msp/identity] Sign -&gt; DEBU 00b Sign: digest: AE3E93DBAA4BA5CDD93596F3EE656006009F5F95CAFAD2CE2AECB4CFB60671BA
2017-07-11 19:21:09.333 UTC [main] main -&gt; INFO 00c Exiting.....
root@0b784bcee1c7:/opt/gopath/src/github.com/hyperledger/fabric/peer#
</pre>
<p><strong>Note:</strong>  In your prior commands, when specifying the channel name, you used lowercase ‘c’ as the argument, e.g., <em>-c mychannel</em>.
In the <em>peer chaincode instantiate</em> command however, you use an uppercase ‘C’ as the argument to specify the channel name, e.g.,
<em>-C mychannel</em>, because -c is used to specify the arguments given to the chaincode.  Why <em>-c</em> for arguments you may ask?  Well, the ‘<em>c</em>’
is short for ‘<em>ctor</em>’, which itself is an abbreviation for constructor, which is a fancy word object-oriented programmers use to refer
to the initial arguments given when creating an object.  Some people do not like being treated as objects, but evidently chaincode
does not object to being objectified.</p>
<p><strong>Step 5:</strong>     You may have noticed a longer than usual pause while this command was being run.  The reason for this is that as part of
the instantiate, a Docker image for the chaincode is created and then a Docker container is started from the image.  To prove this to
yourself, on PuTTY Session 2, enter <em>docker images dev-*</em> and <em>docker ps | grep -v hyperledger</em></p>
<pre>bcuser@ubuntu16042:~$ docker images dev-*
REPOSITORY                                TAG                 IMAGE ID            CREATED             SIZE
dev-peer0.unitedmarbles.com-marbles-1.0   latest              e248dfa62e87        28 seconds ago      188 MB
bcuser@ubuntu16042:~$ docker ps | grep -v hyperledger
CONTAINER ID        IMAGE                                     COMMAND                  CREATED             STATUS              PORTS                                              NAMES
83cc13063a08        dev-peer0.unitedmarbles.com-marbles-1.0   "chaincode -peer.addr"   43 seconds ago      Up 41 seconds                                                          dev-peer0.unitedmarbles.com-marbles-1.0
</pre>
<p>The naming convention used by Hyperledger Fabric v1.0.1 for the Docker images it creates for chaincode is <em>HyperledgerFabricNetworkName-PeerName-ChaincodeName-ChaincodeVersion</em>. In our case of <em>dev-peer0.unitedmarbles.com-marbles-1.0</em>, the
default name of a Hyperledger Fabric network is <em>dev</em>, and you did not change it.  <em>peer0.unitedmarbles.com</em> is the peer name of
peer0 of Org0MSP, and you specified this via the CORE_PEER_ID environment variable in the Docker Compose YAML file. <em>marbles</em> is the
name you gave this chaincode in the <em>-n</em> argument of the <em>peer chaincode install</em> command, and <em>1.0</em> is the version of the chaincode
you used in the <em>-v</em> argument of the <em>peer chaincode install</em> command.</p>
<p>Note that a chaincode Docker container was only created for the peer on which you entered the <em>peer chaincode instantiate</em> command.
Docker containers will not be created on the other peers until you run a <em>peer chaincode invoke</em> or <em>peer chaincode query</em> command on
that peer.</p>
<a name="user-content-section-10-invoke-chaincode-functions"></a>
<h2><a href="#section-10---invoke-chaincode-functions" aria-hidden="true" class="anchor" id="user-content-section-10---invoke-chaincode-functions"><svg aria-hidden="true" class="octicon octicon-link" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Section 10 - Invoke chaincode functions</h2>
<p>You are now ready to invoke chaincode functions that will create, read, update and delete data in the ledger.</p>
<p>In this section, you will enter <em>scripts/setpeer</em> and <em>peer chaincode commands</em> in PuTTY session 1, while you will enter <em>docker ps</em> and
<em>docker images</em> commands in PuTTY session 2.</p>
<p><strong>Step 1:</strong> Switch to peer0 of Org0 by entering <code>scripts/setpeer 0 0</code> in PuTTY session 1.</p>
<p><strong>Step 2:</strong>     You will use the marbles chaincode to create a new Marbles owner named John.  If you would like to use a different name
than John, that is fine but there will be other places later where you will need to use your “custom” name instead of John.  I will let
you know when that is necessary.  Enter this command in PuTTY session 1:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["init_owner", "o0000000000001","John","Marbles Inc"]}' $FABRIC_TLS -C mychannel
</pre>
<p>You will see a lot of output that should end with the result of the invoke-  it is a little daunting but if you look carefully you should notice that much of what you
input is shown in the results:</p>
<pre>2017-07-11 19:50:40.361 UTC [chaincodeCmd] chaincodeInvokeOrQuery -&gt; DEBU 0c7 ESCC invoke result: version:1 response:&lt;status:200 message:"OK" &gt; payload:"\n $M\331\263x\243\010I\276\034\300\307i&lt;\244}\200\267\305\300w\257\306\216\014\371\3536\262\354\322\014\022\300\001\n\250\001\022\027\n\004lscc\022\017\n\r\n\007marbles\022\002\010\003\022\214\001\n\007marbles\022\200\001\n\020\n\016o0000000000001\032l\n\016o0000000000001\032Z{\"docType\":\"marble_owner\",\"id\":\"o0000000000001\",\"username\":\"john\",\"company\":\"Marbles Inc\"}\032\003\010\310\001\"\016\022\007marbles\032\0031.0" endorsement:&lt;endorser:"\n\007Org0MSP\022\335\006-----BEGIN -----\nMIICXjCCAgWgAwIBAgIRAIq3yBmBC4FUhB/kAVkGgmkwCgYIKoZIzj0EAwIwdTEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xGjAYBgNVBAoTEXVuaXRlZG1hcmJsZXMuY29tMR0wGwYDVQQDExRj\nYS51bml0ZWRtYXJibGVzLmNvbTAeFw0xNzA3MTExODQyNDRaFw0yNzA3MDkxODQy\nNDRaMFwxCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQH\nEw1TYW4gRnJhbmNpc2NvMSAwHgYDVQQDExdwZWVyMC51bml0ZWRtYXJibGVzLmNv\nbTBZMBMGByqGSM49AgEGCCqGSM49AwEHA0IABPox/Y/vN7s2zk31NyWQgLz87hmu\nKEZyuHDFzUTqEbdAj9GRQFBUWxn+xYpyX7VnbPfRDsfSRDvDqe8RTliQPwujgY4w\ngYswDgYDVR0PAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMAwGA1UdEwEB\n/wQCMAAwKwYDVR0jBCQwIoAgwFoY7spVdc+yf6iUPhFaUK+H8vPrPZglZatm1BLY\nY7YwKQYDVR0RBCIwIIIXcGVlcjAudW5pdGVkbWFyYmxlcy5jb22CBXBlZXIwMAoG\nCCqGSM49BAMCA0cAMEQCIHz9ZhFwqWWyoyHtso8LJMJOGG7gvC2jo398ZkxtZ7lR\nAiAq2b+Cwd/ZRClfnSPpf0kYGLWer4Gz7o4yGU4Euw3gVA==\n-----END -----\n" signature:"0D\002 G\031\373\376\277\026\325@\323\022\003;wE\t\372 \331\263&amp;\201\341\323\365}\204\363\376\340\017*\t\002 \037m\226\231\371\267\367\nq\232\034&gt;\332\276o\3342\277\340\030\031i\275|\203\013&gt;V{T[1" &gt;
2017-07-11 19:50:40.361 UTC [chaincodeCmd] chaincodeInvokeOrQuery -&gt; INFO 0c8 Chaincode invoke successful. result: status:200
2017-07-11 19:50:40.361 UTC [main] main -&gt; INFO 0c9 Exiting.....
</pre>
<p><strong>Step 3:</strong>     Let’s deconstruct the arguments to the chaincode:</p>
<pre>{“Args”:[“init_owner”, “o0000000000001”, “John”, “Marbles Inc”]}
</pre>
<p>This is in JSON format.  JSON stands for JavaScript Object Notation, and is a very popular format for transmitting data in many
languages, not just with JavaScript.  What is shown above is a single name/value pair.  The name is <em>Args</em> and the value is an array of
four arguments.  (The square brackets “[“ and “]” specify an array in JSON).</p>
<p><strong>Note:</strong> In the formal JSON definition the term ‘<em>name/value</em>’ is used, but many programmers will also use the term ‘<em>key/value</em>’
instead.  You can consider these two terms as synonymous.  (Many people use the phrase “the same” instead of the word “synonymous”).</p>
<p>The <em>Args</em> name specifies the arguments passed to the chaincode invocation.  There is an interface layer, also called a “shim”, that
gains control before passing it along to user-written chaincode functions-  it expects this <em>Args</em> name/value pair.</p>
<p>The shim also expects the first array value to be the name of the user-written chaincode function that it will pass control to, and
then all remaining array values are the arguments to pass, in order, to that user-written chaincode function.</p>
<p>So, in the command you just entered, the <em>init_owner</em> function is called, and it is passed three arguments, <em>o0000000000001</em>, <em>John</em>,
and <em>Marbles Inc</em>.</p>
<p>It is logic within the <em>init_owner</em> function that cause updates to the channel’s ledger- subject to the transaction flow in Hyperledger
Fabric v1.0-  that is, chaincode execution causes proposed updates to the ledger, which are only committed at the end of the
transaction flow if everything is validated properly.  But it all starts with function calls inside the chaincode functions that ask
for ledger state to be created or updated.</p>
<p><strong>Step 4:</strong>     Go to PuTTY session 2, and enter these two Docker commands and you will observe that you only have a Docker image and a
Docker container for peer0 of Org0:</p>
<pre>bcuser@ubuntu16042:~/zmarbles$ docker images dev-*
REPOSITORY                                TAG                 IMAGE ID            CREATED             SIZE
dev-peer0.unitedmarbles.com-marbles-1.0   latest              e248dfa62e87        35 minutes ago      188 MB
bcuser@ubuntu16042:~/zmarbles$ docker ps --no-trunc | grep dev-
83cc13063a08c37cd36f43687f54592c4a4dde9a51335f4343bb6adb2017bb5e   dev-peer0.unitedmarbles.com-marbles-1.0   "chaincode -peer.address=peer0.unitedmarbles.com:7051"                                                                                                                                                                                                                36 minutes ago      Up 36 minutes                                                          dev-peer0.unitedmarbles.com-marbles-1.0
</pre>
<p>The takeaway is that the chaincode execution has only run on peer0 of Org0 so far, and this is also the peer on which you instantiated
the chaincode, so the Docker image for the chaincode, and the corresponding Docker container based on the image, have been created for
only this peer.  You will see soon that other peers will have their own chaincode Docker image and Docker container built the first
time they are needed.</p>
<p><strong>Step 5:</strong>     You created a marble owner in the previous step, now create a marble belonging to this owner.   Perform this from peer0 of
Org1, so from PuTTY session 1, enter <code>source scripts/setpeer 1 0</code> and then enter:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["init_marble","m0000000000001","blue","35","o0000000000001","Marbles Inc"]}' $FABRIC_TLS -C mychannel
</pre>
<p>The end of the output should show a good result through all the confusion- again:</p>
<pre>2017-07-11 20:36:18.160 UTC [chaincodeCmd] chaincodeInvokeOrQuery -&gt; DEBU 0c7 ESCC invoke result: version:1 response:&lt;status:200 message:"OK" &gt; payload:"\n z\237\223\204g\373]\217\306v\267P\367\256!9\217\204M\330F\340\244gg\354W\016\031\242q\262\022\270\002\n\240\002\022\027\n\004lscc\022\017\n\r\n\007marbles\022\002\010\003\022\204\002\n\007marbles\022\370\001\n\020\n\016m0000000000001\n\024\n\016o0000000000001\022\002\010\004\032\315\001\n\016m0000000000001\032\272\001{\n\t\t\"docType\":\"marble\", \n\t\t\"id\": \"m0000000000001\", \n\t\t\"color\": \"blue\", \n\t\t\"size\": 35, \n\t\t\"owner\": {\n\t\t\t\"id\": \"o0000000000001\", \n\t\t\t\"username\": \"john\", \n\t\t\t\"company\": \"Marbles Inc\"\n\t\t}\n\t}\032\003\010\310\001\"\016\022\007marbles\032\0031.0" endorsement:&lt;endorser:"\n\007Org1MSP\022\315\006-----BEGIN -----\nMIICUzCCAfmgAwIBAgIRAPoyvcxk/ARhKTwQVr8aicgwCgYIKoZIzj0EAwIwbzEL\nMAkGA1UEBhMCVVMxEzARBgNVBAgTCkNhbGlmb3JuaWExFjAUBgNVBAcTDVNhbiBG\ncmFuY2lzY28xFzAVBgNVBAoTDm1hcmJsZXNpbmMuY29tMRowGAYDVQQDExFjYS5t\nYXJibGVzaW5jLmNvbTAeFw0xNzA3MTEyMDE4MTNaFw0yNzA3MDkyMDE4MTNaMFkx\nCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHEw1TYW4g\nRnJhbmNpc2NvMR0wGwYDVQQDExRwZWVyMC5tYXJibGVzaW5jLmNvbTBZMBMGByqG\nSM49AgEGCCqGSM49AwEHA0IABGYtGf9GXe1yqms+AoE/Nt0uSqETQ+US9CIx18+i\nCYKul07ZxVrCH4KLGql/SqHjursaPzb8nbMzF9zEtYoycAGjgYswgYgwDgYDVR0P\nAQH/BAQDAgWgMBMGA1UdJQQMMAoGCCsGAQUFBwMBMAwGA1UdEwEB/wQCMAAwKwYD\nVR0jBCQwIoAgB5V0mkdvattfOcQYRphJXi0ZCMqoi0YtxvOIgVyKooUwJgYDVR0R\nBB8wHYIUcGVlcjAubWFyYmxlc2luYy5jb22CBXBlZXIwMAoGCCqGSM49BAMCA0gA\nMEUCIQDJEEA0YUm4nBrBjGF28aCljy3SYK2P/xfVZ/jnMtHRVwIgZTYuvXZOX+mF\n3ydQYTyxwnuvtFJE7ZkJppd/YsF6OEI=\n-----END -----\n" signature:"0D\002 \002\003\255]\274\r2\276\355\347&lt;\372\002\006\260\021\210\202\313-\363\037\3000\"\n\325\331\002\026\354\362\002 W\364\361\023g\252\337\024e\020\003\013\260\373/\240\265 ;#\010wk/\216]{t\272\260\236}" &gt;
2017-07-11 20:36:18.160 UTC [chaincodeCmd] chaincodeInvokeOrQuery -&gt; INFO 0c8 Chaincode invoke successful. result: status:200
2017-07-11 20:36:18.160 UTC [main] main -&gt; INFO 0c9 Exiting.....
</pre>
<p>This time you called the <em>init_marble</em> function.  Now you have created one owner, and one marble.</p>
<p>The owner is <em>John</em> (or your custom name) and his id is <em>o0000000000001</em>, and his marble has an id of <em>m0000000000001</em>.  I cleverly
decided that the letter ‘<em>o</em>’ stands for owner and the letter ‘<em>m</em>’ stands for marbles.  I put 12 leading zeros in front of the number
1 in case you wanted to stay late and create trillions of marbles and owners.</p>
<p><strong>Step 6:</strong>     In PuTTY session 2, repeat the Docker commands from step 4.  Now you should see that you have two Docker images and two
Docker containers:</p>
<pre>bcuser@ubuntu16042:~/zmarbles$ docker images dev-*
REPOSITORY                                TAG                 IMAGE ID            CREATED             SIZE
dev-peer0.marblesinc.com-marbles-1.0      latest              10ec1ebd6d0b        9 minutes ago       188 MB
dev-peer0.unitedmarbles.com-marbles-1.0   latest              30d3f553d454        10 minutes ago      188 MB
bcuser@ubuntu16042:~/zmarbles$ docker ps --no-trunc | grep dev-
7dc36ab249021c6af44a714a0809d62f1ef30af370181c375d3bae42d6000612   dev-peer0.marblesinc.com-marbles-1.0      "chaincode -peer.address=peer0.marblesinc.com:7051"                                                                                                                                                                                                                   9 minutes ago       Up 9 minutes                                                           dev-peer0.marblesinc.com-marbles-1.0
4d0b5c9a18a9864d35304fced94f8235483ed7ea5209674a425253a13100137a   dev-peer0.unitedmarbles.com-marbles-1.0   "chaincode -peer.address=peer0.unitedmarbles.com:7051"                                                                                                                                                                                                                10 minutes ago      Up 10 minutes                                                          dev-peer0.unitedmarbles.com-marbles-1.0
</pre>
<p><strong>Step 7:</strong>     You will create a new owner now.  Try that on Peer 1 of Org0, so enter <code>source scripts/setpeer 0 1</code> in PuTTY session 1
and then try the command:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["init_owner","o0000000000002","Barry","United Marbles"]}' $FABRIC_TLS -C mychannel
</pre>
<p>What do you expect to happen when you enter this command?</p>
<p>Well, I don’t expect you to know for sure, but what I expect, if you have followed these instructions exactly, is that the <em>invoke</em> will
fail.  It will fail because you have not yet installed the chaincode on Peer 1 of Org0.  Here is the relevant portion of the output
describing the error:</p>
<pre>Error: Error endorsing invoke: rpc error: code = Unknown desc = Chaincode data for cc marbles/1.0 was not found, error cannot retrieve package for chaincode marbles/1.0, error open /var/hyperledger/production/chaincodes/marbles.1.0: no such file or directory - &lt;nil&gt;
</pre>
<p>You must first <em>install</em> chaincode on a peer not only before you can do an <em>instantiate</em> from that peer, but also before you can do
an <em>invoke</em> or <em>query</em> from that peer.  If you want a peer to perform the endorsing function for a transaction, the chaincode for
that transaction must be installed on that peer.  If that peer is a member of the channel on which the chaincode is instantiated, but
has not had the chaincode installed on it, it will still perform the committer function and update its copy of the channel’s ledger
when it receives valid transactions from the orderer, but it cannot endorse transaction proposals unless the chaincode has been
installed on it.</p>
<p><strong>Step 8</strong>:     Correct things by installing the chaincode on peer1 of Org0.  In PuTTY session 1, enter this command, which should
look familiar to you:</p>
<pre>peer chaincode install -n marbles -v1.0 -p github.com/hyperledger/fabric/examples/chaincode/go/marbles
</pre>
<p>And since familiarity breeds contempt, I will not show the complete output but you should see a message near the bottom that reads
<em>Installed remotely response: &lt;status:200 payload:”OK” &gt;</em></p>
<p><strong>Step 9:</strong>     Now, in PuTTY session 1, repeat the <em>peer chaincode invoke</em> command from step 7.  It should work this time:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["init_owner","o0000000000002","Barry","United Marbles"]}' $FABRIC_TLS -C mychannel
</pre>
<p>The output format will be like what you have seen before, and you should be able to dig out some of the more human-readable pieces of
it and assure yourself that this command succeeded.</p>
<p><strong>Step 10:</strong>    Go back to PuTTY session 2 and enter the Docker commands that will show you that you now have your third pair in your
set of chaincode-related Docker images and containers, the ones just built for peer1 of Org0:</p>
<pre>bcuser@ubuntu16042:~/zmarbles$ docker images dev-*
REPOSITORY                                TAG                 IMAGE ID            CREATED              SIZE
dev-peer1.unitedmarbles.com-marbles-1.0   latest              e618fe234503        About a minute ago   188 MB
dev-peer0.marblesinc.com-marbles-1.0      latest              10ec1ebd6d0b        32 minutes ago       188 MB
dev-peer0.unitedmarbles.com-marbles-1.0   latest              30d3f553d454        33 minutes ago       188 MB
bcuser@ubuntu16042:~/zmarbles$ docker ps --no-trunc | grep dev-
dce42a9113afe6607e1f99ec236e04208b792d7a86ba2d67f04e70e4ef48a729   dev-peer1.unitedmarbles.com-marbles-1.0   "chaincode -peer.address=peer1.unitedmarbles.com:7051"                                                                                                                                                                                                                About a minute ago   Up About a minute                                                      dev-peer1.unitedmarbles.com-marbles-1.0
7dc36ab249021c6af44a714a0809d62f1ef30af370181c375d3bae42d6000612   dev-peer0.marblesinc.com-marbles-1.0      "chaincode -peer.address=peer0.marblesinc.com:7051"                                                                                                                                                                                                                   33 minutes ago       Up 33 minutes                                                          dev-peer0.marblesinc.com-marbles-1.0
4d0b5c9a18a9864d35304fced94f8235483ed7ea5209674a425253a13100137a   dev-peer0.unitedmarbles.com-marbles-1.0   "chaincode -peer.address=peer0.unitedmarbles.com:7051"                                                                                                                                                                                                                34 minutes ago       Up 34 minutes                                                          dev-peer0.unitedmarbles.com-marbles-1.0
</pre>
<p><strong>Step 11:</strong>    Try some additional chaincode invocations. You have had enough experience switching between peers with  <em>source
scripts/setpeer</em> and issuing the <em>peer chaincode invoke</em> command that I will not show the output, nor tell you from which peer you
should enter your command.   I will just list several more commands you can run against the marbles chaincode. Feel free to switch
amongst the four peers as you see fit before you enter each command.  Note however, that you have only installed the chaincode on
three of the four peers, so if you choose that fourth peer, you will need to install the chaincode there first.
I won’t tell you which peer does not currently have the chaincode installed, but if you need a hint, it is the one that does not
have a Docker image built yet for its chaincode.  (Note that checking for the absence of a Docker image for a peer is not, by itself,
proof that you have not installed the chaincode on that peer- the Docker image is not built until you first invoke a function against
the chaincode on that peer).</p>
<p>If you are ambitious and want to install the chaincode on that fourth peer,
try the useful Docker commands I have shown you from PuTTY session 2 to see that the chaincode's Docker image and Docker container
are created when you invoke a transaction on that fourth peer.</p>
<p>Try some or all of these commands from PuTTY session 1:</p>
<p>Create a marble for Barry, i.e., owner o0000000000002:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["init_marble","m0000000000002","green","50","o0000000000002","United Marbles"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Obtain all marble information-  marbles and owners:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["read_everything"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Change marble ownership-  ‘Barry’ is giving his marble to ‘John’:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["set_owner","m0000000000002","o0000000000001","United Marbles"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Get the history of marble ‘m0000000000002’:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["getHistory","m0000000000002"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Delete marble ‘m0000000000002’:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["delete_marble","m0000000000002","Marbles Inc"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Try again to get the history of marble ‘m0000000000002’ after you just deleted it:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["getHistory","m0000000000002"]}' $FABRIC_TLS -C mychannel
</pre>
<p>Obtain all marble information again.  See if it matches your expectations based on the commands you have entered:</p>
<pre>peer chaincode invoke -n marbles -c '{"Args":["read_everything"]}' $FABRIC_TLS -C mychannel
</pre>
<p><strong>Step 12:</strong> Exit the <em>cli</em> Docker container from PuTTY session 1.  Your command prompt should change to reflect that you are now
back at your Linux on z Systems host prompt and no longer in the Docker container:</p>
<pre>root@f97fefdbf4ff:/opt/gopath/src/github.com/hyperledger/fabric/peer# exit
exit
bcuser@ubuntu16042:~/zmarbles$
</pre>
<p><strong>Step 13:</strong>    Congratulations!! Congratulations on your fortitude and perseverance.  Leave your Hyperledger Fabric network and all
the chaincode Docker containers up and running-  you will use what you created here in the next lab where you will install a
front-end Web application that will interact with the marbles chaincode that you have installed in this lab.</p>

</article>
  </div>

  </div>

  <button type="button" data-facebox="#jump-to-line" data-facebox-class="linejump" data-hotkey="l" class="d-none">Jump to Line</button>
  <div id="jump-to-line" style="display:none">
    <!-- '"` --><!-- </textarea></xmp> --></option></form><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
      <input class="form-control linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
      <button type="submit" class="btn">Go</button>
</form>  </div>

  </div>
  <div class="modal-backdrop js-touch-events"></div>
</div>

    </div>
  </div>

  </div>

      
<div class="footer container-lg px-3" role="contentinfo">
  <div class="position-relative d-flex flex-justify-between py-6 mt-6 f6 text-gray border-top border-gray-light ">
    <ul class="list-style-none d-flex flex-wrap ">
      <li class="mr-3">&copy; 2017 <span title="0.09197s from unicorn-2373216554-jb24q">GitHub</span>, Inc.</li>
        <li class="mr-3"><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li class="mr-3"><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li class="mr-3"><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li class="mr-3"><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>

    <a href="https://github.com" aria-label="Homepage" class="footer-octicon" title="GitHub">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" version="1.1" viewBox="0 0 16 16" width="24"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"/></svg>
</a>
    <ul class="list-style-none d-flex flex-wrap ">
        <li class="mr-3"><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact GitHub</a></li>
      <li class="mr-3"><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li class="mr-3"><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li class="mr-3"><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li class="mr-3"><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>
  </div>
</div>



  <div id="ajax-error-message" class="ajax-error-message flash flash-error">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <button type="button" class="flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
    You can't perform that action at this time.
  </div>


    <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/compat-e68e03020e11c2c3d75aede1517fca338d1d77241e38ef4853676493cf7142da.js"></script>
    <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-69827f77e257c6e2ee5c816bc5dbcb07913e59ee7a90b57d8f8eca6f23351bb6.js"></script>
    
    <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-bc14f5f64b775384ad7df6d42378f4c78ee0ceaed30848bc62e0a7e8ecac3676.js"></script>
    
    
    
    
  <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner d-none">
    <svg aria-hidden="true" class="octicon octicon-alert" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M8.865 1.52c-.18-.31-.51-.5-.87-.5s-.69.19-.87.5L.275 13.5c-.18.31-.18.69 0 1 .19.31.52.5.87.5h13.7c.36 0 .69-.19.86-.5.17-.31.18-.69.01-1L8.865 1.52zM8.995 13h-2v-2h2v2zm0-3h-2V6h2v4z"/></svg>
    <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
    <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
  </div>
  <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" version="1.1" viewBox="0 0 12 16" width="12"><path fill-rule="evenodd" d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"/></svg>
    </button>
  </div>
</div>


  </body>
</html>

